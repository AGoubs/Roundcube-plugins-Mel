"addressbook"==rcmail.env.task&&$(document).on("keyup","input#quicksearchbox",function(){if("plugin.annuaire"==rcmail.env.action)var a=$("#annuaire-list li.object");else var a=$("#contacts-table tr.contact");var b=$(this).val().toLowerCase();a.show(),a.each(function(){if("plugin.annuaire"==rcmail.env.action)var a=$(this).find("> span.name");else var a=$(this).find("> td.name");1<b.length?0<=a.text().toLowerCase().indexOf(b)?(a.html(a.text()),a.html(a.text().replace(new RegExp(b,"gi"),"<strong>$&</strong>"))):(a.html(a.text()),$(this).hide()):a.html(a.text())})}),window.rcmail&&rcmail.addEventListener("init",function(){if("addressbook"==rcmail.env.task&&($("#directorylist-header").text(rcmail.get_label("mel_larry.allannuaires")),$("<li class=\"legend\">"+rcmail.get_label("mel_larry.personalannuaire")+"</li>").insertAfter("#directorylist li.all")),"addressbook"==rcmail.env.task&&"plugin.annuaire"==rcmail.env.action)$("#quicksearchbox").attr("placeholder",rcmail.get_label("mel_larry.search_in")+" "+$("#directorylist li.addressbook.selected > a").text());else if("calendar"==rcmail.env.task)$("#quicksearchbox").attr("placeholder",rcmail.get_label("mel_larry.search_in_calendars"));else if("tasks"==rcmail.env.task)$("#quicksearchbox").attr("placeholder",rcmail.get_label("mel_larry.search_in_tasks"));else if("settings"==rcmail.env.task&&!rcmail.env.courrielleur){var a=$("<div>");a.attr("class","disconnect");var b=$("<a>");b.attr("href","./?_task=logout"),b.attr("onclick","return rcmail.command('switch-task','logout',this,event)"),b.text(rcmail.get_label("right_panel.logout")),a.append(b),$("#settings-sections").append(a)}}),rcmail.addEventListener("actionafter",function(a){if("list"==a.action&&"mail"==rcmail.env.task)$("#searchmenu-menu #s_scope_all").is(":checked")?$("#quicksearchbox").attr("placeholder",rcmail.get_label("mel_larry.search_in_all_folders")):$("#quicksearchbox").attr("placeholder",rcmail.get_label("mel_larry.search_in")+" "+$("#folderlist-content #mailboxlist li.mailbox.selected > a").clone().children().remove().end().text());else if("list"==a.action&&"addressbook"==rcmail.env.task){rcmail.set_searchscope("list");var b=$("#directorylist li.addressbook.selected > a").clone().children().remove().end().text();$("#quicksearchbox").attr("placeholder",rcmail.get_label("mel_larry.search_in")+" "+b)}}),rcmail.addEventListener("responseaftersearch",function(a){if("addressbook"==rcmail.env.task&&(""==a.response.env.source||!a.response.env.source)){var b={};$("#contacts-table tr").each(function(){var a=$(this).attr("id").split(/-(.+)/)[1];a&&!b[a]&&(b[a]=$(this).attr("id"))});var c=!0;for(var d in b){var e=rcmail.get_label("mel_larry.foundin")+" "+$("#directorylist li#rcmli"+rcmail.html_identifier_encode(d)+" > a").clone().children().remove().end().text();c||$("<tr class=\"space\"><td>&nbsp;</td></tr>").insertBefore("tr#"+b[d]),$("<tr class=\"legend\"><td>"+e+"</td></tr>").insertBefore("tr#"+b[d]),c=!1}}});